<div class="cart-page-container container my-4">
  <section class=" p-4 rounded-lg shadow-sm">
    <h2 class="h4 font-weight-bold mb-4">Checkout</h2>
    <div class="row">
      <div class="col-md-8">
        <h3 class="h5 font-weight-bold mb-3">Order Summary</h3>
        <div class="border p-3 mb-3 product-container">
          @for(course of courses; track course.id;){
            <div class="d-flex align-items-center mb-2 cart-item">
              <img class="cart-course-img mr-3" [src]="course.image" [alt]="course.title" />
              <div class="flex-grow-1">
                <p class="mb-0">{{ course.title }}</p>
                <p class="mb-0"><span class="price-style">{{ course.fee }}</span> €</p>
              </div>
              <div class="ml-auto d-flex align-items-center">
                <button class="btn btn-danger" (click)="removeFromCart(course.id)">x</button>
              </div>
            </div>
          }
        </div> <button class="btn btn-warning btn-block font-weight-bold mt-3" (click)="clearCart()">Clear Cart</button>
      </div>
      <div class="col-md-4">
        <div class="border p-3 rounded-lg ">
          <h3 class="h5 font-weight-bold mb-3">Order Total</h3>
          <div class="d-flex justify-content-between">
            <p class="mb-0">Subtotal</p>
            <p class="mb-0">{{ originalTotal.toFixed(2) }} €</p>
          </div>
          <div class="d-flex justify-content-between">
            <p class="mb-0">VAT 10%</p>
            <p class="mb-0">{{ total.toFixed(2) }} €</p>
          </div>
          <hr />
          @if(showDiscount){
            <div class="d-flex justify-content-between">
              <p class="mb-0">Discount -25%</p>
              <p class="mb-0">{{ discountedTotal.toFixed(2) }} €</p>
            </div>
            <hr />
          } @else if(!showDiscount){
            <div class="d-flex justify-content-between">
              <p class="no-discount-style">No discount applied, get 25% discount on 400€ purchase.</p>
            </div>
            <hr />
          }
          <div class="d-flex justify-content-between font-weight-bold">
            <p class="mb-0">Total</p>
            <p class="mb-0">{{ total.toFixed(2) }} €</p>
          </div>
          <button class="btn btn-warning btn-block font-weight-bold mt-3" routerLink="/payment">Checkout</button>
        </div>
      </div>
    </div>
  </section>
</div>
